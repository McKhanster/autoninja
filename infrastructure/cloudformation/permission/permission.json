{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Action": [
                "bedrock:InvokeModel",
                "bedrock:InvokeModelWithResponseStream",
                "bedrock:GetInferenceProfile",
                "bedrock:GetFoundationModel"
            ],
            "Resource": [
                "arn:aws:bedrock:us-east-2::foundation-model/ us.amazon.nova-premier-v1:0",
                "arn:aws:bedrock:us-east-2:784327326356:inference-profile/ us.amazon.nova-premier-v1:0",
                "arn:aws:bedrock:*::foundation-model/anthropic.claude-3-7-sonnet-20250219-v1:0"
            ],
            "Effect": "Allow"
        },
        {
            "Action": [
                "bedrock:GetInferenceProfile",
                "bedrock:GetFoundationModel"
            ],
            "Resource": "*",
            "Effect": "Allow"
        },
        {
			"Action": [
				"logs:CreateLogGroup",
				"logs:CreateLogStream",
				"logs:PutLogEvents"
			],
			"Resource": [
				"arn:aws:logs:us-east-2:784327326356:log-group:/aws/lambda/autoninja-*",
				"arn:aws:logs:us-east-2:784327326356:log-group:/aws/lambda/autoninja-*:*"
			],
			"Effect": "Allow",
			"Sid": "CloudWatchLogsAccess"
		},
		{
			"Action": [
				"xray:PutTraceSegments",
				"xray:PutTelemetryRecords"
			],
			"Resource": "*",
			"Effect": "Allow",
			"Sid": "XRayAccess"
		},
		{
			"Action": [
				"dynamodb:PutItem",
				"dynamodb:GetItem",
				"dynamodb:Query",
				"dynamodb:UpdateItem"
			],
			"Resource": [
				"arn:aws:dynamodb:us-east-2:784327326356:table/autoninja-inference-records-production",
				"arn:aws:dynamodb:us-east-2:784327326356:table/autoninja-inference-records-production/index/*"
			],
			"Effect": "Allow",
			"Sid": "DynamoDBInferenceRecordsAccess"
		},
		{
			"Action": [
				"s3:GetObject",
				"s3:PutObject",
				"s3:DeleteObject",
				"s3:ListBucket"
			],
			"Resource": [
				"arn:aws:s3:::autoninja-artifacts-784327326356-production",
				"arn:aws:s3:::autoninja-artifacts-784327326356-production/*"
			],
			"Effect": "Allow",
			"Sid": "S3ArtifactsAccess"
		}
    ]
}

