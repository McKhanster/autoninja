{
  "enabled": true,
  "name": "Lambda Rate Limiting Validator",
  "description": "Monitors Lambda Python files for changes and validates that all model invocations implement the required 30-second rate limiting pattern using AgentCore Memory",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "lambda/*/handler.py",
      "lambda/*/*.py"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "A Lambda Python file has been modified. Please analyze the code to ensure all model invocations (such as calls to Bedrock, OpenAI, or other AI services) implement the mandatory 30-second rate limiting pattern using AgentCore Memory. Check for: 1) Import of AgentCore Memory, 2) Proper namespace usage for rate limiting state, 3) Time-based checks before model calls, 4) Setting timestamps after successful calls, 5) Appropriate wait/sleep mechanisms when rate limit is exceeded. Report any violations and suggest corrections to ensure compliance with the rate limiting requirements."
  }
}